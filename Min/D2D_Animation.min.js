function D2D_Animation(f,g,c,h,b,a,e,d){this.texture=f;this.srcX=b;this.srcY=a;this.srcWidth=e;this.srcHeight=d;this.horFrames=g;this.verFrames=c;this.startX=b;this.startY=a;this.fps=h;this.frameTime=0;this.originX=0;this.originY=0;this.alpha=1;}D2D_Animation.prototype.update=function(a){this.frameTime+=a;if(this.frameTime>=1/this.fps){this.frameTime=0;this.srcX+=this.srcWidth;if(this.srcX>(this.horFrames-1)*this.srcWidth+this.startX){this.srcX=this.startX;this.srcY+=this.srcHeight;if(this.srcY>(this.verFrames-1)*this.srcHeight+this.startY){this.srcY=this.startY;}}}};D2D_Animation.prototype.draw=function(b){var a=b.getContext();a.save();a.globalAlpha=this.alpha;if(arguments.length==1){a.drawImage(this.texture.getDrawHandle(),this.srcX,this.srcY,this.srcWidth,this.srcHeight,0-this.originX,0-this.originY,this.srcWidth,this.srcHeight);}else{if(arguments.length==3){a.drawImage(this.texture.getDrawHandle(),this.srcX,this.srcY,this.srcWidth,this.srcHeight,arguments[1]-this.originX,arguments[2]-this.originY,this.srcWidth,this.srcHeight);}else{if(arguments.length==5){a.drawImage(this.texture.getDrawHandle(),this.srcX,this.srcY,this.srcWidth,this.srcHeight,arguments[1]-this.originX,arguments[2]-this.originY,arguments[3],arguments[4]);}else{if(arguments.length==6){a.translate(arguments[1],arguments[2]);a.rotate(arguments[3]);a.scale(arguments[4],arguments[5]);a.drawImage(this.texture.getDrawHandle(),this.srcX,this.srcY,this.srcWidth,this.srcHeight,0-this.originX,0-this.originY,this.srcWidth,this.srcHeight);}}}}a.restore();};D2D_Animation.prototype.dispose=function(){this.texture=null;this.srcX=null;this.srcY=null;this.srcWidth=null;this.srcHeight=null;this.horFrames=null;this.verFrames=null;this.startX=null;this.startY=null;this.fps=null;this.frameTime=null;this.originX=null;this.originY=null;};D2D_Animation.prototype.setAlpha=function(a){this.alpha=a;};D2D_Animation.prototype.getAlpha=function(){return this.alpha;};D2D_Animation.prototype.setOrigin=function(b,a){this.originX=b;this.originY=a;};D2D_Animation.prototype.getOriginX=function(){return this.originX;};D2D_Animation.prototype.getOriginY=function(){return this.originY;};D2D_Animation.prototype.getStartX=function(){return this.startX;};D2D_Animation.prototype.getStartY=function(){return this.startY;};D2D_Animation.prototype.getWidth=function(){return this.srcWidth;};D2D_Animation.prototype.getHeight=function(){return this.srcHeight;};D2D_Animation.prototype.getTexture=function(){return this.texture;};D2D_Animation.prototype.setTexture=function(a){this.texture=a;};D2D_Animation.prototype.reset=function(){this.srcX=this.startX;this.srcY=this.startY;this.frameTime=0;};D2D_Animation.prototype.getFps=function(){return this.fps;};D2D_Animation.prototype.setFps=function(a){this.fps=a;};D2D_Animation.prototype.setCurrentFrame=function(b,a){this.srcX=(b-1)*this.srcWidth+this.startX;this.srcY=(a-1)*this.srcHeight+this.startY;this.frameTime=0;};D2D_Animation.prototype.getCurrentFrameX=function(){return((this.srcX-this.startX)/this.srcWidth)+1;};D2D_Animation.prototype.getCurrentFrameY=function(){return((this.srcY-this.startY)/this.srcHeight)+1;};D2D_Animation.prototype.getHorFrames=function(){return this.horFrames;};D2D_Animation.prototype.getVerFrames=function(){return this.verFrames;};