var D2D_Animation=(function(){function a(g,h,d,i,c,b,f,e){this.texture=g;this.srcX=c;this.srcY=b;this.srcWidth=f;this.srcHeight=e;this.horFrames=h;this.verFrames=d;this.startX=c;this.startY=b;this.fps=i;this.frameTime=0;this.originX=0;this.originY=0;this.alpha=1;}a.prototype.update=function(b){this.frameTime+=b;if(this.frameTime>=1/this.fps){this.frameTime=0;this.srcX+=this.srcWidth;if(this.srcX>(this.horFrames-1)*this.srcWidth+this.startX){this.srcX=this.startX;this.srcY+=this.srcHeight;if(this.srcY>(this.verFrames-1)*this.srcHeight+this.startY){this.srcY=this.startY;}}}};a.prototype.draw=function(c){var b=c.getContext();b.save();b.globalAlpha=this.alpha;if(arguments.length==1){b.drawImage(this.texture.getDrawHandle(),this.srcX,this.srcY,this.srcWidth,this.srcHeight,0-this.originX,0-this.originY,this.srcWidth,this.srcHeight);}else{if(arguments.length==3){b.drawImage(this.texture.getDrawHandle(),this.srcX,this.srcY,this.srcWidth,this.srcHeight,arguments[1]-this.originX,arguments[2]-this.originY,this.srcWidth,this.srcHeight);}else{if(arguments.length==5){b.drawImage(this.texture.getDrawHandle(),this.srcX,this.srcY,this.srcWidth,this.srcHeight,arguments[1]-this.originX,arguments[2]-this.originY,arguments[3],arguments[4]);}else{if(arguments.length==6){b.translate(arguments[1],arguments[2]);b.rotate(arguments[3]);b.scale(arguments[4],arguments[5]);b.drawImage(this.texture.getDrawHandle(),this.srcX,this.srcY,this.srcWidth,this.srcHeight,0-this.originX,0-this.originY,this.srcWidth,this.srcHeight);}}}}b.restore();};a.prototype.dispose=function(){this.texture=null;this.srcX=null;this.srcY=null;this.srcWidth=null;this.srcHeight=null;this.horFrames=null;this.verFrames=null;this.startX=null;this.startY=null;this.fps=null;this.frameTime=null;this.originX=null;this.originY=null;};a.prototype.setAlpha=function(b){this.alpha=b;};a.prototype.getAlpha=function(){return this.alpha;};a.prototype.setOrigin=function(c,b){this.originX=c;this.originY=b;};a.prototype.getOriginX=function(){return this.originX;};a.prototype.getOriginY=function(){return this.originY;};a.prototype.getStartX=function(){return this.startX;};a.prototype.getStartY=function(){return this.startY;};a.prototype.getWidth=function(){return this.srcWidth;};a.prototype.getHeight=function(){return this.srcHeight;};a.prototype.getTexture=function(){return this.texture;};a.prototype.setTexture=function(b){this.texture=b;};a.prototype.reset=function(){this.srcX=this.startX;this.srcY=this.startY;this.frameTime=0;};a.prototype.getFps=function(){return this.fps;};a.prototype.setFps=function(b){this.fps=b;};a.prototype.setCurrentFrame=function(c,b){this.srcX=(c-1)*this.srcWidth+this.startX;this.srcY=(b-1)*this.srcHeight+this.startY;this.frameTime=0;};a.prototype.getCurrentFrameX=function(){return((this.srcX-this.startX)/this.srcWidth)+1;};a.prototype.getCurrentFrameY=function(){return((this.srcY-this.startY)/this.srcHeight)+1;};a.prototype.getHorFrames=function(){return this.horFrames;};a.prototype.getVerFrames=function(){return this.verFrames;};return a;})();